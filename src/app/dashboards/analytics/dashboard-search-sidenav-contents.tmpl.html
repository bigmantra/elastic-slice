<!--<style>
  #cloud-dynamic { width: 100%; height: 250px; }
</style>-->

<md-content layout="column">

  <div class="widget" style="min-height: 50px"
       esl-aggregation="ejs.TermsAggregation('surveyYear_prompt_aggr').field('surveyYear').size(10).order('_term','asc')">

    <md-toolbar style="min-height:30px">
      <h4 style="max-height:30px">Year</h4>
    </md-toolbar>

    <div layout="row" layout-margin layout-wrap ng-if="aggResult.buckets.length">
      <div ng-repeat="bucket in aggResult.buckets"
           esl-filter="ejs.TermsFilter('surveyYear', bucket.key)">
        <md-button style="min-width:40px" ng-if="!filter.enabled" class="md-primary" ng-click="filter.enabled=true;"
                   aria-label="select year">
          <a>{{bucket.key}}</a>
        </md-button>
        <md-button style="min-width:40px;text-transform: lowercase;" ng-if="filter.enabled" class="md-primary"
                   ng-click="filter.enabled=false;"
                   aria-label="undo year selection">
          <a>{{bucket.key}}</a> <span
          style="vertical-align: super;color: red;font-size: .83em ">x</span>
        </md-button>

      </div>

    </div>

    <span ng-if="!aggResult.buckets.length"> No Results</span>

  </div>

  <esl-checklist field="'productFamily'" size="5"></esl-checklist>
  <esl-checklist field="'practiceArea'" size="5"></esl-checklist>
  <esl-checklist more="false" field="'category'" size="5"></esl-checklist>
  <esl-checklist more="true" field="'suggestionsToImprove'" size="20"></esl-checklist>
  <esl-checklist field="'commentsTerms'" size="20"></esl-checklist>


  <!--
    <cloud-widget id="cloud-dynamic" words="vm.cloudWords" auto-resize="true" delay="1" steps="15" font-size="{from:0.09, to:0.04}"></cloud-widget>
  -->


  <esl-checklist field="'salesRep'" size="8"></esl-checklist>
  <esl-checklist field="'surveyMonth'" size="12"></esl-checklist>
  <esl-checklist field="'rating'" size="10"></esl-checklist>
  <esl-checklist field="'decisionLevel'" size="5"></esl-checklist>
  <esl-checklist field="'continuedUse'" size="5"></esl-checklist>
  <esl-checklist field="'customerReference'" size="5"></esl-checklist>


</md-content>
